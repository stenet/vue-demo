import{Q as v,R as T,S as r,U as _,V as S,W as y,X as l,Y as g,$ as n,Z as C,_ as w,a0 as O,a1 as b,a2 as A,a3 as E,a4 as x}from"./vendor.e6b44e87.js";var h=v(),k=T.add,u="dx-toast",o=u+"-",I=o+"wrapper",L=o+"content",$=o+"message",B=o+"icon",D="dxToast",P=["info","warning","error","success"],c=[],F=8e3,i=null,N={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}},R={h:0,v:0};k(function(){r.subscribeGlobal(_.getDocument(),S.down,function(t){for(var e=c.length-1;e>=0;e--)if(!c[e]._proxiedDocumentDownHandler(t))return})});var f=y.inherit({_getDefaultOptions:function(){return l(this.callBase(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,to:0}},shading:!1,height:"auto",hideTopOverlayHandler:null,closeOnSwipe:!0,closeOnClick:!1,resizeEnabled:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{closeOnOutsideClick:!0,width:"auto",position:{at:"bottom left",my:"bottom left",offset:"20 -20"},animation:{show:{type:"slide",duration:200,from:{position:{my:"top",at:"bottom",of:h}}},hide:{type:"slide",duration:200,to:{position:{my:"top",at:"bottom",of:h}}}}}},{device:function(t){var e=t.deviceType==="phone",s=t.platform==="android";return e&&s},options:{width:"100vw",position:{at:"bottom center",my:"bottom center",offset:"0 0"}}},{device:function(t){return t.deviceType==="phone"},options:{width:"100vw"}},{device:function(){return g()},options:{minWidth:344,maxWidth:568,displayTime:4e3}}])},_init:function(){this.callBase(),this._posStringToObject()},_renderContentImpl:function(){this.option("message")&&(this._message=n("<div>").addClass($).text(this.option("message")).appendTo(this.$content())),this.setAria("role","alert",this._message),C(this.option("type").toLowerCase(),P)>-1&&this.$content().prepend(n("<div>").addClass(B)),this.callBase()},_render:function(){this.callBase(),this.$element().addClass(u),this.$wrapper().addClass(I),this.$content().addClass(o+String(this.option("type")).toLowerCase()),this.$content().addClass(L),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")},_renderScrollTerminator:w,_toggleCloseEvents:function(t){var e="dx"+t.toLowerCase();r.off(this.$content(),e),this.option("closeOn"+t)&&r.on(this.$content(),e,this.hide.bind(this))},_posStringToObject:function(){if(!!O(this.option("position"))){var t=this.option("position").split(" ")[0],e=this.option("position").split(" ")[1];switch(this.option("position",l({boundaryOffset:R},N[t])),e){case"center":case"left":case"right":this.option("position").at+=" "+e,this.option("position").my+=" "+e}}},_show:function(){return i&&i!==this&&(clearTimeout(i._hideTimeout),i.hide()),i=this,this.callBase.apply(this,arguments).done(function(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(this.hide.bind(this),this.option("displayTime"))}.bind(this))},_hide:function(){return i=null,this.callBase.apply(this,arguments)},_overlayStack:function(){return c},_zIndexInitValue:function(){return this.callBase()+F},_dispose:function(){clearTimeout(this._hideTimeout),i=null,this.callBase()},_optionChanged:function(t){switch(t.name){case"type":this.$content().removeClass(o+t.previousValue),this.$content().addClass(o+String(t.value).toLowerCase());break;case"message":this._message&&this._message.text(t.value);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":break;default:this.callBase(t)}}});b(D,f);var p=null,H=function(t,e,s){var a=A(t)?t:{message:t},m=a.onHidden;l(a,{type:e,displayTime:s,onHidden:function(d){n(d.element).remove(),new E(m,{context:d.model}).execute(arguments)}}),p=n("<div>").appendTo(x()),new f(p,a).show()};export{H as n};
